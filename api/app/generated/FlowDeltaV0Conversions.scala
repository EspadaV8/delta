/**
 * Generated by apidoc - http://www.apidoc.me
 * Service version: 0.0.1
 * apidoc:0.11.7 http://www.apidoc.me/flow/delta/0.0.1/anorm_2_x_parsers
 */
package io.flow.delta.v0.anorm.conversions {

  import anorm.{Column, MetaDataItem, TypeDoesNotMatch}
  import play.api.libs.json.{JsArray, JsObject, JsValue}
  import scala.util.{Failure, Success, Try}

  /**
    * Conversions to collections of objects using JSON.
    */
  object Json {

    def parser[T](
      f: play.api.libs.json.JsValue => T
    ) = anorm.Column.nonNull1 { (value, meta) =>
      val MetaDataItem(qualified, nullable, clazz) = meta
      value match {
        case json: org.postgresql.util.PGobject => {
          Try {
            f(
              play.api.libs.json.Json.parse(
                json.getValue
              )
            )
          } match {
            case Success(result) => Right(result)
            case Failure(ex) => Left(
              TypeDoesNotMatch(
                s"Column[$qualified] error parsing json $value: $ex"
              )
            )
          }
        }
        case _=> {
          Left(
            TypeDoesNotMatch(
              s"Column[$qualified] error converting $value: ${value.asInstanceOf[AnyRef].getClass} to Json"
            )
          )
        }


      }
    }

    implicit val columnToJsObject: Column[play.api.libs.json.JsObject] = parser { _.as[play.api.libs.json.JsObject] }

    implicit val columnToSeqBoolean: Column[Seq[Boolean]] = parser { _.as[Seq[Boolean]] }
    implicit val columnToMapBoolean: Column[Map[String, Boolean]] = parser { _.as[Map[String, Boolean]] }
    implicit val columnToSeqDouble: Column[Seq[Double]] = parser { _.as[Seq[Double]] }
    implicit val columnToMapDouble: Column[Map[String, Double]] = parser { _.as[Map[String, Double]] }
    implicit val columnToSeqInt: Column[Seq[Int]] = parser { _.as[Seq[Int]] }
    implicit val columnToMapInt: Column[Map[String, Int]] = parser { _.as[Map[String, Int]] }
    implicit val columnToSeqLong: Column[Seq[Long]] = parser { _.as[Seq[Long]] }
    implicit val columnToMapLong: Column[Map[String, Long]] = parser { _.as[Map[String, Long]] }
    implicit val columnToSeqLocalDate: Column[Seq[_root_.org.joda.time.LocalDate]] = parser { _.as[Seq[_root_.org.joda.time.LocalDate]] }
    implicit val columnToMapLocalDate: Column[Map[String, _root_.org.joda.time.LocalDate]] = parser { _.as[Map[String, _root_.org.joda.time.LocalDate]] }
    implicit val columnToSeqDateTime: Column[Seq[_root_.org.joda.time.DateTime]] = parser { _.as[Seq[_root_.org.joda.time.DateTime]] }
    implicit val columnToMapDateTime: Column[Map[String, _root_.org.joda.time.DateTime]] = parser { _.as[Map[String, _root_.org.joda.time.DateTime]] }
    implicit val columnToSeqBigDecimal: Column[Seq[BigDecimal]] = parser { _.as[Seq[BigDecimal]] }
    implicit val columnToMapBigDecimal: Column[Map[String, BigDecimal]] = parser { _.as[Map[String, BigDecimal]] }
    implicit val columnToSeqJsObject: Column[Seq[_root_.play.api.libs.json.JsObject]] = parser { _.as[Seq[_root_.play.api.libs.json.JsObject]] }
    implicit val columnToMapJsObject: Column[Map[String, _root_.play.api.libs.json.JsObject]] = parser { _.as[Map[String, _root_.play.api.libs.json.JsObject]] }
    implicit val columnToSeqString: Column[Seq[String]] = parser { _.as[Seq[String]] }
    implicit val columnToMapString: Column[Map[String, String]] = parser { _.as[Map[String, String]] }
    implicit val columnToSeqUUID: Column[Seq[_root_.java.util.UUID]] = parser { _.as[Seq[_root_.java.util.UUID]] }
    implicit val columnToMapUUID: Column[Map[String, _root_.java.util.UUID]] = parser { _.as[Map[String, _root_.java.util.UUID]] }

    import io.flow.delta.v0.models.json._
    implicit val columnToSeqDeltaEventType: Column[Seq[_root_.io.flow.delta.v0.models.EventType]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.EventType]] }
    implicit val columnToMapDeltaEventType: Column[Map[String, _root_.io.flow.delta.v0.models.EventType]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.EventType]] }
    implicit val columnToSeqDeltaDeployment: Column[Seq[_root_.io.flow.delta.v0.models.Deployment]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.Deployment]] }
    implicit val columnToMapDeltaDeployment: Column[Map[String, _root_.io.flow.delta.v0.models.Deployment]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.Deployment]] }
    implicit val columnToSeqDeltaEvent: Column[Seq[_root_.io.flow.delta.v0.models.Event]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.Event]] }
    implicit val columnToMapDeltaEvent: Column[Map[String, _root_.io.flow.delta.v0.models.Event]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.Event]] }
    implicit val columnToSeqDeltaImage: Column[Seq[_root_.io.flow.delta.v0.models.Image]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.Image]] }
    implicit val columnToMapDeltaImage: Column[Map[String, _root_.io.flow.delta.v0.models.Image]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.Image]] }
    implicit val columnToSeqDeltaProject: Column[Seq[_root_.io.flow.delta.v0.models.Project]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.Project]] }
    implicit val columnToMapDeltaProject: Column[Map[String, _root_.io.flow.delta.v0.models.Project]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.Project]] }
    implicit val columnToSeqDeltaProjectForm: Column[Seq[_root_.io.flow.delta.v0.models.ProjectForm]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.ProjectForm]] }
    implicit val columnToMapDeltaProjectForm: Column[Map[String, _root_.io.flow.delta.v0.models.ProjectForm]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.ProjectForm]] }
    implicit val columnToSeqDeltaProjectPutForm: Column[Seq[_root_.io.flow.delta.v0.models.ProjectPutForm]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.ProjectPutForm]] }
    implicit val columnToMapDeltaProjectPutForm: Column[Map[String, _root_.io.flow.delta.v0.models.ProjectPutForm]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.ProjectPutForm]] }
    implicit val columnToSeqDeltaProjectReference: Column[Seq[_root_.io.flow.delta.v0.models.ProjectReference]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.ProjectReference]] }
    implicit val columnToMapDeltaProjectReference: Column[Map[String, _root_.io.flow.delta.v0.models.ProjectReference]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.ProjectReference]] }
    implicit val columnToSeqDeltaProjectVersion: Column[Seq[_root_.io.flow.delta.v0.models.ProjectVersion]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.ProjectVersion]] }
    implicit val columnToMapDeltaProjectVersion: Column[Map[String, _root_.io.flow.delta.v0.models.ProjectVersion]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.ProjectVersion]] }
    implicit val columnToSeqDeltaTag: Column[Seq[_root_.io.flow.delta.v0.models.Tag]] = parser { _.as[Seq[_root_.io.flow.delta.v0.models.Tag]] }
    implicit val columnToMapDeltaTag: Column[Map[String, _root_.io.flow.delta.v0.models.Tag]] = parser { _.as[Map[String, _root_.io.flow.delta.v0.models.Tag]] }

  }

}